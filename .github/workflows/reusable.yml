name: validator

on:
  workflow_dispatch:
  workflow_call:
    inputs:
      input_var:
        required: true
        type: string

jobs:
  run-script:
    runs-on: ubuntu-latest
    permissions:  # Ensure the workflow has read access to its own repo
      contents: read

    steps:
        - name: Checkout Repository
          uses: actions/checkout@v3
          
        - name: Verify validate.py File Exists
          run: |
            if [ ! -f "validate.py" ]; then
              echo "Error: validate.py file is missing."
              exit 1
            fi
  
        - name: Run Validator Script
          run: python3 validate.py "# snap_student"
          shell: bash
          
        - name: Output Repository Structure (For Debugging)
          run: ls -R
          shell: bash